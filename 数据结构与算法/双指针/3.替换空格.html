<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
</head>

<body>
    <script>
        /**
         * @param {string} s
         * @return {string}
         */
        var replaceSpace = function (s) {
            // 转换成数组
            const strArr = [...s]
            // 空格数
            let count = 0
            // 计算空格数量
            strArr.forEach(item => {
                if (item === ' ') {
                    count++
                }
            })
            let left = strArr.length - 1
            // 为什么要乘以2?因为每个空格都要替换成%20,所以每个空格都要多两个位置
            let right = strArr.length - 1 + count * 2
            // 从后往前遍历
            while (left >= 0) {
                // 若不是空格,则直接移动指针
                if (strArr[left] !== ' ') {
                    strArr[right--] = strArr[left--]
                }
                else {
                    // 若是空格,则替换成%20
                    strArr[right--] = '0'
                    strArr[right--] = '2'
                    strArr[right--] = '%'
                    left--
                }
            }
            // 返回字符串
            return strArr.join('')
        }
        console.log(replaceSpace('We are happy.'));
    </script>
</body>

</html>