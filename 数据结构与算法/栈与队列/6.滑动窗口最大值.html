<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
</head>

<body>
    <script>
        /* 维护一个递减队列，遍历数组  */
        var maxSlidingWindow = function (nums, k) {
            // 双端队列
            const deque = []
            // 结果数组
            const result = []
            const len = nums.length
            for (let i = 0; i < len; i++) {
                // 删除队列中小于当前元素的值
                while (deque.length && nums[i] > nums[deque[deque.length - 1]]) {
                    deque.pop()
                }
                // 将索引存入队列
                deque.push(i)
                // 移除不在窗口中的队首元素
                if (deque.length && deque[0] <= i - k) {
                    deque.shift()
                }
                // 已遍历的元素数量大于k的时候才更新结果数组
                if (i >= k - 1) {
                    result.push(nums[deque[0]])
                }
            }
            return result
        }
    </script>
</body>

</html>